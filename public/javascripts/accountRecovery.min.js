var app=angular.module("accountRecovery",[]);app.controller("accountRecoveryControl",["$scope","$http","$timeout","$window",function(e,a,o,t){e.patronEmail=/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/,e.showLoader=!1,e.validar=function(r){e.patronEmail.test(e.form.email)?(e.showLoader=!0,a.post("/accountRecovery/resetPassword/",e.form).success(function(a){e.showLoader=!1,o(function(){null!==a?(t.alert("We have sent you an email with the instructions to reset your password."),o(function(){t.location.href="http://"+mainUrl},300)):t.alert("The email you entered doesn't exist in our databse. Please type in a valid one.")},300)}).error(function(){e.showLoader=!1,t.alert("There was an error in the connection or the email doesn't exist in our database. Please try again.")})):(r.preventDefault(),t.alert("The email's format is incorrect please try again."))}}]);